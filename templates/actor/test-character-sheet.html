<form class="{{cssClass}} flexcol" autocomplete="off">

    {{!-- Sheet Header --}}
    <header class="sheet-header flexrow">
        <img class="profile" src="{{actor.img}}" title="{{actor.name}}" data-edit="img"/>

        <section class="header-details flexrow">
            <h1 class="charname">
                <input name="name" type="text" value="{{actor.name}}" placeholder="{{ localize 'ELITYAWORLD.ActorName' }}"/>
            </h1>

            <aside class="header-exp flexcol">
                <div class="charlevel" title="{{multiclassLabels}}">
                    <label>{{ localize "ELITYAWORLD.Level" }}</label>
                </div>
                <div class="experience flexrow">
                    <input name="data.attributes.level.value" type="text" value="{{data.attributes.level.value}}" placeholder="0" data-dtype="Number"/>
                    <span class="sep">/</span>
                    <span class="next">{{data.attributes.level.next}}</span>
                </div>
            </aside>

            {{!-- Character Summary --}}
            <ul class="summary flexrow">
                <li>
                    <input type="text" name="data.details.race" value="{{data.details.race}}" placeholder="{{ localize 'ELITYAWORLD.Race' }}"/>
                </li>
                <li>
                    {{#if labels.background}}
                        <span title="{{localize 'ELITYAWORLD.Class'}}">{{labels.background}}</span>
                    {{else}}
                        <input type="text" name="data.details.Class" value="{{data.details.Class}}" placeholder="{{ localize 'ELITYAWORLD.Class' }}"/>
                    {{/if}}
                </li>
                <li>
                    <input type="text" name="data.details.age" value="{{data.details.age}}" placeholder="{{ localize 'ELITYAWORLD.Age' }}"/>
                </li>
                <li>
                    <input type="text" name="data.details.height" value="{{data.details.height}}" placeholder="{{ localize 'ELITYAWORLD.Height' }}"/>
                </li>
            </ul>

            {{!-- Header Attributes --}}
            <ul class="attributes flexrow">
                <li class="attribute health">
                    <h4 class="attribute-name box-title">{{ localize "ELITYAWORLD.HitPoints" }}</h4>
                    <div class="attribute-value multiple">
                        <input name="data.attributes.hp.value" type="text"
                               value="{{data.attributes.hp.value}}" placeholder="10"
                               data-dtype="Number" title="{{localize 'ELITYAWORLD.HitPointsCurrent'}}">
                        <span class="sep"> / </span>
                        <input name="data.attributes.hp.max" type="text"
                               value="{{data.attributes.hp.max}}" placeholder="10" 
                               data-dtype="Number" title="{{localize 'ELITYAWORLD.HitPointsMax'}}">
                    </div>
                </li>

                <li class="attribute">
                    <h4 class="attribute-name box-title">
                        {{ localize "ELITYAWORLD.Mana" }}
                    </h4>
                    <div class="attribute-value multiple">
                        <input name="data.attributes.mana.value" type="text"
                               value="{{data.attributes.mana.value}}" placeholder="10"
                               data-dtype="Number" title="{{localize 'ELITYAWORLD.Mana'}}">
                        <span class="sep"> / </span>
                        <input name="data.attributes.mana.max" type="text"
                               value="{{data.attributes.mana.max}}" placeholder="10" 
                               data-dtype="Number" title="{{localize 'ELITYAWORLD.Mana'}}">
                    </div>
                </li>

                <li class="attribute">
                    <h4 class="attribute-name box-title">
                        {{ localize "ELITYAWORLD.ArmorClass" }}
                        <a class="config-button" data-action="armor" title="{{localize 'ELITYAWORLD.ArmorConfig'}}"><i class="fas fa-cog"></i></a>
                    </h4>
                    <div class="attribute-value multiple">
                        <input name="data.attributes.endurance.value" type="text"
                               value="{{data.attributes.endurance.value}}" placeholder="10"
                               data-dtype="Number" title="{{localize 'ELITYAWORLD.Endurance'}}">
                        <span class="sep"> / </span>
                        <input name="data.attributes.endurance.max" type="text"
                               value="{{data.attributes.endurance.max}}" placeholder="10" 
                               data-dtype="Number" title="{{localize 'ELITYAWORLD.Endurance'}}">
                    </div>
                </li>
            </ul>
        </section>
    </header>

    {{!-- Character Sheet Navigation --}}
    <nav class="sheet-navigation tabs" data-group="primary">
        <a class="item active" data-tab="attributes">{{ localize "ELITYAWORLD.Attributes" }}</a>
        <a class="item" data-tab="inventory">{{ localize "ELITYAWORLD.Inventory" }}</a>
        <a class="item" data-tab="spells">{{ localize "ELITYAWORLD.Spells" }}</a>
        <a class="item" data-tab="effects">{{ localize "ELITYAWORLD.Effects" }}</a>
        <a class="item" data-tab="biography">{{ localize "ELITYAWORLD.Biography" }}</a>
    </nav>

    {{!-- Character Sheet Body --}}
    <section class="sheet-body">

        <div class="tab attributes flexrow" data-group="primary" data-tab="attributes">

            {{!-- Ability Scores --}}
            <ul class="ability-scores flexrow">
            {{#each data.abilities as |ability id|}}
                <li class="ability" data-ability="{{id}}">
                    <h4 class="ability-name box-title rollable">{{ability.label}}</h4>
                    <input class="ability-score" name="data.abilities.{{id}}.value" type="number" value="{{ability.value}}" placeholder="10"/>
                </li>
            {{/each}}
            </ul>

            {{!-- Skills --}}
            <ul class="skills-list">
            {{#each config.skills as |label s|}}
            {{#with (lookup ../data.skills s) as |skill|}}
                <li class="skill flexrow" data-skill="{{s}}">
                    <input type="hidden" name="data.skills.{{s}}.value" value="{{skill.baseValue}}" data-dtype="Number"/>
                    <div class="skill-name-controls">
                      <h4 class="skill-name rollable">{{label}}</h4>
                      <a class="config-button" data-action="skill" title="{{localize 'ELITYAWORLD.SkillConfigure'}}"><i class="fas fa-cog"></i></a>
                    </div>
                    <span class="skill-ability">{{skill.ability}}</span>
                    <span class="skill-mod" title="{{ localize 'ELITYAWORLD.SkillModifierHint' skill=label }}">{{numberFormat skill.total decimals=0 sign=true}}</span>
                    <span class="skill-passive" title="{{ localize 'ELITYAWORLD.SkillPassiveHint' skill=label }}">({{skill.passive}})</span>
                </li>
            {{/with}}
            {{/each}}
            </ul>

            <section class="center-pane flexcol">
                
                <div class="attribute mental-health" >
                    <h4 class="attribute-name box-title">
                        {{ localize "ELITYAWORLD.MentalHealth" }}
                    </h4>
                    <div class="attribute-value">
                        <input name="data.attributes.mentalHealth.value" type="text"
                            value="{{data.attributes.mentalHealth.value}}" placeholder="0"
                            data-dtype="Number" title="{{localize 'ELITYAWORLD.MentalHealth'}}">
                    </div>
                </div>

                {{!-- Traits --}}
                {{> "systems/ELITYAWORLD/templates/actors/parts/actor-traits.html"}}
            </section>
        </div>

        {{!-- Inventory Tab --}}
        <div class="tab inventory flexcol" data-group="primary" data-tab="inventory">
            {{> "systems/ELITYAWORLD/templates/actors/parts/actor-inventory.html" sections=inventory}}
        </div>

        {{!-- Spellbook Tab --}}
        <div class="tab spells flexcol" data-group="primary" data-tab="spells">
            {{> "systems/ELITYAWORLD/templates/actors/parts/actor-spells.html"}}
        </div>

        {{!-- Effects Tab --}}
        <div class="tab effects flexcol" data-group="primary" data-tab="effects">
            {{> "systems/ELITYAWORLD/templates/actors/parts/active-effects.html"}}
        </div>

        {{!-- Biography Tab --}}
        <div class="tab flexrow" data-group="primary" data-tab="biography">
            <div class="characteristics flexcol">
                <label>{{ localize "ELITYAWORLD.Appearance" }}</label>
                <textarea name="data.details.appearance">{{data.details.appearance}}</textarea>
                <label>{{ localize "ELITYAWORLD.Personality" }}</label>
                <textarea name="data.details.trait">{{data.details.personality}}</textarea>
                <label>{{ localize "ELITYAWORLD.Psychology" }}</label>
                <textarea name="data.details.ideal">{{data.details.psychology}}</textarea>
                <label>{{ localize "ELITYAWORLD.Fear" }}</label>
                <textarea name="data.details.bond">{{data.details.fear}}</textarea>
            </div>
            <div class="biography">
                {{editor content=data.details.biography.value target="data.details.biography.value" button=true owner=owner editable=editable rollData=rollData}}
            </div>
        </div>
    </section>
</form>

